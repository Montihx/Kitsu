# KITSU ‚Äî –ø—Ä–æ–¥–∞–∫—à–µ–Ω‚Äë–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞–Ω–∏–º–µ (Aggregator)

> ‚ö†Ô∏è **–í–ê–ñ–ù–û**
> –≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ **AI‚Äë–∞–≥–µ–Ω—Ç–æ–º (Copilot / Agent mode)**.
> README –∏ –≤—Å–µ —Ñ–∞–π–ª—ã –≤ `docs/` —è–≤–ª—è—é—Ç—Å—è **—Å—Ç—Ä–æ–≥–æ–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–µ–π**, –∞ –Ω–µ –æ–ø–∏—Å–∞–Ω–∏–µ–º ¬´–≤ –æ–±—â–∏—Ö —á–µ—Ä—Ç–∞—Ö¬ª.
>
> ‚ùå –î–æ–º—ã—Å–ª–∏–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–µ—â–µ–Ω–æ
> ‚ùå –£–ø—Ä–æ—â–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∑–∞–ø—Ä–µ—â–µ–Ω–æ
> ‚ùå –ù–∞—Ä—É—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∑–∞–ø—Ä–µ—â–µ–Ω–æ

---

## 1. –ß—Ç–æ —Ç–∞–∫–æ–µ KITSU

**KITSU** ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞–Ω–∏–º–µ‚Äë–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞‚Äë–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä.

–ü—Ä–æ–µ–∫—Ç:

* **–ù–ï** –≤–∏–¥–µ–æ—Ö–æ—Å—Ç–∏–Ω–≥
* **–ù–ï** CDN
* **–ù–ï** –ø—Ä–æ–∫—Å–∏ –¥–ª—è –≤–∏–¥–µ–æ

KITSU –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç:

* –∫–∞—Ç–∞–ª–æ–≥ –∞–Ω–∏–º–µ
* –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
* –ø–µ—Ä–µ–≤–æ–¥—ã
* —ç–ø–∏–∑–æ–¥—ã
* HLS‚Äë–ø–æ—Ç–æ–∫–∏

–∏–∑ **–≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤** (Kodik, Shikimori –∏ –±—É–¥—É—â–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã), –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –±—ã—Å—Ç—Ä—ã–π, –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

---

## 2. –ö–ª—é—á–µ–≤–∞—è —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è (–ù–ï –æ–±—Å—É–∂–¥–∞–µ—Ç—Å—è)

### 2.1 –ü—Ä–∞–≤–æ–≤—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

* ‚ùå –≤–∏–¥–µ–æ—Ñ–∞–π–ª—ã –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è
* ‚ùå –≤–∏–¥–µ–æ –Ω–µ –ø—Ä–æ–∫—Å–∏—Ä—É—é—Ç—Å—è
* ‚ùå iframe –æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
* ‚úÖ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ ‚Äî –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä

### 2.2 –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

* –≤—Å–µ API‚Äë–∫–ª—é—á–∏ **–¢–û–õ–¨–ö–û –Ω–∞ backend**
* frontend **–Ω–∏–∫–æ–≥–¥–∞** –Ω–µ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º –Ω–∞–ø—Ä—è–º—É—é
* –≤—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è

### 2.3 –ò–Ω–∂–µ–Ω–µ—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥

* —è–≤–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã –≤–º–µ—Å—Ç–æ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–π
* –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ
* –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ TODO –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω‚Äë–∫–æ–¥–µ
* –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è = source of truth

---

## 3. –ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (–ù–ï –º–∏–Ω–∏–º—É–º)

### 3.1 –ö–∞—Ç–∞–ª–æ–≥ –∞–Ω–∏–º–µ

* –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
* –ø–æ–∏—Å–∫ –ø–æ external ID (Shikimori)
* —Ñ–∏–ª—å—Ç—Ä—ã:

  * –∂–∞–Ω—Ä—ã
  * —Å—Ç–∞—Ç—É—Å –≤—ã—Ö–æ–¥–∞
  * —Ä–µ–π—Ç–∏–Ω–≥
* –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–∞–π—Ç–ª–∞
* —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–∞–π—Ç–ª—ã (—Å–∏–∫–≤–µ–ª—ã, –ø—Ä–∏–∫–≤–µ–ª—ã, —Å–ø–∏–Ω‚Äë–æ—Ñ—Ñ—ã)

---

### 3.2 –≠–ø–∏–∑–æ–¥—ã –∏ –≤–∏–¥–µ–æ

* –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
* —Å–ø–∏—Å–æ–∫ —ç–ø–∏–∑–æ–¥–æ–≤ –ø–æ –∫–∞–∂–¥–æ–º—É –ø–µ—Ä–µ–≤–æ–¥—É
* HLS (.m3u8)
* –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞
* –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

---

### 3.3 –ü–ª–µ–µ—Ä (UX)

* resume —Å –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–µ–∫—É–Ω–¥—ã
* —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–µ—Ä–µ–≤–æ–¥–∞
* –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ HLS
* mobile + desktop

---

### 3.4 –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

* –ø—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
* –∏—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
* –∏–∑–±—Ä–∞–Ω–Ω–æ–µ

---

### 3.5 –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

* –∫–æ–Ω—Ç—Ä–æ–ª—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
* –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
* —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–∫—Ä–∞—Ç–∫–æ)

```
–ë—Ä–∞—É–∑–µ—Ä / PWA
      ‚Üì HTTPS
Frontend (Next.js)
      ‚Üì REST API
Backend (FastAPI)
      ‚Üì
–í–Ω–µ—à–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
  ‚îú‚îÄ Kodik (–≤–∏–¥–µ–æ)
  ‚îî‚îÄ Shikimori (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)
```

üìÑ –ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: `docs/architecture.md`

---

## 5. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend

* Next.js (App Router)
* JavaScript
* TailwindCSS
* shadcn/ui
* HLS.js
* PWA

### Backend

* FastAPI
* PostgreSQL
* Redis
* async ORM (SQLAlchemy)

---

## 6. –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### Kodik

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:

* —ç–ø–∏–∑–æ–¥–æ–≤
* –ø–µ—Ä–µ–≤–æ–¥–æ–≤
* HLS‚Äë–ø–æ—Ç–æ–∫–æ–≤

–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:

* backend‚Äëonly
* –±–µ–∑ iframe
* –±–µ–∑ –ø—Ä—è–º—ã—Ö —Å—Å—ã–ª–æ–∫ –≤–æ frontend

---

### Shikimori

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:

* –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
* –∂–∞–Ω—Ä–æ–≤
* —Ä–µ–π—Ç–∏–Ω–≥–æ–≤
* —Å–≤—è–∑–µ–π —Ç–∞–π—Ç–ª–æ–≤

–î–∞–Ω–Ω—ã–µ –∫–µ—à–∏—Ä—É—é—Ç—Å—è –∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è.

---

## 7. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```
frontend/        # UI (Next.js)
backend/         # API (FastAPI)
parsers/         # –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã (Kodik, Shiki)
docs/            # –ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
infra/           # Docker, CI/CD
```

---

## 8. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è)

–í—Å–µ —Ñ–∞–π–ª—ã –≤ `docs/` **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –∫ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—é**:

* `docs/architecture.md`
* `docs/parsers/kodik.md`
* `docs/parsers/shikimori.md`
* `docs/api-reference.md`
* `docs/player.md`
* `docs/security.md`
* `docs/roadmap.md`

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞–ø–∏—Å–∞–Ω–∞ **–¥–ª—è AI‚Äë–∞–≥–µ–Ω—Ç–∞**.

---

## 9. –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è Copilot / AI‚Äë–∞–≥–µ–Ω—Ç–∞

* –Ω–µ –¥–æ–¥—É–º—ã–≤–∞—Ç—å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
* –Ω–µ —Å–æ–∫—Ä–∞—â–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
* –Ω–µ –Ω–∞—Ä—É—à–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
* –ø—Ä–∏ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç–∏ ‚Äî —Å—á–∏—Ç–∞—Ç—å —ç—Ç–æ –æ—à–∏–±–∫–æ–π

---

## 10. –Æ—Ä–∏–¥–∏—á–µ—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

KITSU –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –∏ –Ω–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç –≤–∏–¥–µ–æ–∫–æ–Ω—Ç–µ–Ω—Ç.
–í–µ—Å—å –≤–∏–¥–µ–æ–∫–æ–Ω—Ç–µ–Ω—Ç –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤.

---

## 11. –°—Ç–∞—Ç—É—Å README

–≠—Ç–æ—Ç README:

* —è–≤–ª—è–µ—Ç—Å—è —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞
* —è–≤–ª—è–µ—Ç—Å—è source of truth
* –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏—è—Ö
